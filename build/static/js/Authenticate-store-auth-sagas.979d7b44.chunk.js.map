{"version":3,"sources":["Modules/Authenticate/configs/api.js","Modules/Authenticate/store/auth/service.js","Modules/Authenticate/store/auth/sagas.js","store/user/selector.js"],"names":["POST_AUTH_SIGN_IN","POST_SEND_OTP","POST_SIGN_UP_TRIAL_ACCOUNT","POST_SIGN_UP_TRIAL_ACCOUNT_OTP","POST_UPDATE_TO_TRIAL_ACCOUNT","GET_TRIAL_ACCOUNT_INFO","POST_ACTIVE_CODE","POST_CHECK_ACTIVE_CODE","GET_VIDEO_TUTORIAL_ACTIVE_CODE","POST_AUTH_FORGOT_USERNAME","POST_AUTH_FORGOT_PASSWORD","POST_AUTH_VERIFY_ACCOUNT","POST_AUTH_VERIFY_PASSWORD","POST_AUTH_VERIFY_ACCOUNT_EMAIL","POST_AUTH_VERIFY_PASSWORD_EMAIL","POST_AUTH_FORGOT_USERNAME_EMAIL","POST_AUTH_FORGOT_PASSWORD_EMAIL","LOG_OUT","SIGN_IN_ACCOUNT","signIn","codeLanguage","payload","apiMethod","post","API","appID","APP_ID","sendOtp","phoneNumber","signInDev","apiMethodDev","sendOtpDev","fetchLogoutSaga","authSaga","fetchSignInSaga","select","getCodeLanguage","call","res","data","status","SUCCESS","retCode","RETCODE_SUCCESS","defaults","headers","common","token","apiMethodV2","put","type","Actions","userActions","setInfoData","error","retText","console","log","getUserData","clearUserData","ActionsAuth","takeEvery","user","state","createSelector","userData","loading"],"mappings":"mIAAA,OAAe,WAEbA,kBAAmB,4BACnBC,cAAe,8BACfC,2BAA4B,+BAC5BC,+BAAgC,sCAChCC,6BAA8B,2CAC9BC,uBAAwB,wCACxBC,iBAAkB,iCAClBC,uBAAwB,gCACxBC,+BAAgC,yCAGhCC,0BAA2B,gCAC3BC,0BAA2B,gCAC3BC,yBAA0B,mCAC1BC,0BAA2B,oCAG3BC,+BAAgC,wCAChCC,gCAAiC,yCACjCC,gCAAiC,qCACjCC,gCAAiC,qCAEjCC,QAAS,GAMTC,gBAAiB,e,0PCxBNC,EAAS,SAAH,GAAmC,IAA7BC,EAAY,EAAZA,aAAcC,EAAO,EAAPA,QACrC,OAAOC,IAAUC,KAAKH,EAAeI,UAAIxB,kBAAkB,2BACtDqB,GAAO,IACVI,MAAOC,MAEX,EAEaC,EAAU,SAAH,GAAmC,IAA7BP,EAAY,EAAZA,aAAcC,EAAO,EAAPA,QACtC,OAAOC,IAAUC,KAAKH,EAAeI,UAAIvB,cAAe,CACtD2B,YAAaP,GAEjB,EAEaQ,EAAY,SAAH,GAAmC,IAA7BT,EAAY,EAAZA,aAAcC,EAAO,EAAPA,QACxC,OAAOS,IAAaP,KAAKH,EAAeI,UAAIxB,kBAAkB,2BACzDqB,GAAO,IACVI,MAAOC,MAEX,EAEaK,EAAa,SAAH,GAAmC,IAA7BX,EAAY,EAAZA,aAAcC,EAAO,EAAPA,QACzC,OAAOS,IAAaP,KAAKH,EAAeI,UAAIvB,cAAe,CACzD2B,YAAaP,GAEjB,C,2MCYUW,GAAe,qBAWAC,GArCzB,SAAUC,EAAgB,GAAD,IAAGb,EAAO,EAAPA,QAAO,6HAEV,OAFU,kBAEJc,YAAOC,KAAiB,KAAD,EACtC,OADNhB,EAAY,gBACAiB,YAAKlB,SAAQ,CAC7BE,UACAD,iBACC,KAAD,EACU,GAJNkB,EAAG,OAIDC,EAASD,EAATC,KACJD,EAAIE,SAAWC,KAAWF,EAAKG,UAAYC,IAAe,iBAO5D,OANArB,IAAUsB,SAASC,QAAQC,OACV,cAChB,iBAAaP,EAAKA,KAAKQ,OACxBC,IAAYJ,SAASC,QAAQC,OACZ,cAChB,iBAAaP,EAAKA,KAAKQ,OAAQ,UAC1BE,YAAI,CAAEC,KAAMC,kBAAyB9B,QAASkB,EAAKA,OAAQ,KAAD,GAChE,OADgE,UAC1DU,YAAIG,IAAYC,YAAYd,EAAKA,OAAO,KAAD,2BAE7C,OAF6C,UAEvCU,YAAI,CAAEC,KAAMC,gBAAuBG,MAAOf,EAAKgB,UAAW,KAAD,2BAIjE,OAJiE,0BAGjEC,QAAQC,IAAI,YAAY,EAAD,IAAK,UACtBR,YAAI,CAAEC,KAAMC,gBAAuBG,MAAM,EAAD,KAAO,KAAD,mDAtBrB,EAsBqB,CAIxD,SAAUtB,IAAe,2EAEJ,OAFI,kBAEEG,YAAOuB,KAAa,KAAD,EAC1C,OADc,gBACRT,YAAIG,IAAYO,cAAc,CAAC,IAAI,KAAD,EAExC,OAFwC,SAElCV,YAAIW,oBAA8B,CAAC,IAAI,KAAD,oDAE5CJ,QAAQC,IAAI,aAAa,EAAD,IAAO,sDAIpB,SAAUxB,IAAQ,2EAC/B,OAD+B,SACzB4B,YAAUV,sBAA6BjB,GAAiB,KAAD,EAC7D,OAD6D,SACvD2B,YAAUV,qBAA4BnB,GAAiB,KAAD,kC,mCCvD9D,8CACa8B,EAAO,SAACC,GAAK,OAAKA,EAAMD,IAAI,EAE5BJ,EAAcM,YAAeF,GAAM,SAACvB,GAAI,OAAS,OAAJA,QAAI,IAAJA,OAAI,EAAJA,EAAM0B,QAAQ,IAOnCD,YACnCF,GACA,SAACvB,GAAI,OAAS,OAAJA,QAAI,IAAJA,OAAI,EAAJA,EAAM2B,UAAW,IAAI,G","file":"static/js/Authenticate-store-auth-sagas.979d7b44.chunk.js","sourcesContent":["export default {\r\n  /*Auth SuperSchoolMemory*/\r\n  POST_AUTH_SIGN_IN: \"/SieuTriNhoHocDuong/login\",\r\n  POST_SEND_OTP: \"/SieuTriNhoHocDuong/SendOTP\",\r\n  POST_SIGN_UP_TRIAL_ACCOUNT: \"/SieuTriNhoHocDuong/Register\",\r\n  POST_SIGN_UP_TRIAL_ACCOUNT_OTP: \"/SieuTriNhoHocDuong/RegisterWithOTP\",\r\n  POST_UPDATE_TO_TRIAL_ACCOUNT: \"/SieuTriNhoHocDuong/UpdateUserExperience\",\r\n  GET_TRIAL_ACCOUNT_INFO: \"/SieuTriNhoHocDuong/GetUserExperience\",\r\n  POST_ACTIVE_CODE: \"/SieuTriNhoHocDuong/ActiveCode\",\r\n  POST_CHECK_ACTIVE_CODE: \"/SieuTriNhoHocDuong/CheckCode\",\r\n  GET_VIDEO_TUTORIAL_ACTIVE_CODE: \"/SieuTriNhoHocDuong/ActiveCodeTutorial\",\r\n\r\n  // OTP phone\r\n  POST_AUTH_FORGOT_USERNAME: \"/AccountHelper/ForgetUsername\",\r\n  POST_AUTH_FORGOT_PASSWORD: \"/AccountHelper/ForgetPassword\",\r\n  POST_AUTH_VERIFY_ACCOUNT: \"/AccountHelper/OTPConfirmAccount\",\r\n  POST_AUTH_VERIFY_PASSWORD: \"/AccountHelper/OTPConfirmPassword\",\r\n\r\n  // OTP email\r\n  POST_AUTH_VERIFY_ACCOUNT_EMAIL: \"/AccountHelperEmail/OTPConfirmAccount\",\r\n  POST_AUTH_VERIFY_PASSWORD_EMAIL: \"/AccountHelperEmail/OTPConfirmPassword\",\r\n  POST_AUTH_FORGOT_USERNAME_EMAIL: \"/AccountHelperEmail/ForgetUsername\",\r\n  POST_AUTH_FORGOT_PASSWORD_EMAIL: \"/AccountHelperEmail/ForgetPassword\",\r\n\r\n  LOG_OUT: \"\",\r\n  /*End Auth SuperSchoolMemory*/\r\n\r\n  // contract\r\n\r\n  // new\r\n  SIGN_IN_ACCOUNT: \"/auth/signin\",\r\n  // end\r\n};\r\n","import API from \"../../configs/api\";\r\n\r\nimport apiMethod from \"@utility/ApiMethod\";\r\nimport apiMethodDev from \"@utility/ApiMethodDev\";\r\nimport { APP_ID } from \"../../../../configs/contants\";\r\n\r\nexport const signIn = ({ codeLanguage, payload }) => {\r\n  return apiMethod.post(codeLanguage + API.POST_AUTH_SIGN_IN, {\r\n    ...payload,\r\n    appID: APP_ID,\r\n  });\r\n};\r\n\r\nexport const sendOtp = ({ codeLanguage, payload }) => {\r\n  return apiMethod.post(codeLanguage + API.POST_SEND_OTP, {\r\n    phoneNumber: payload,\r\n  });\r\n};\r\n\r\nexport const signInDev = ({ codeLanguage, payload }) => {\r\n  return apiMethodDev.post(codeLanguage + API.POST_AUTH_SIGN_IN, {\r\n    ...payload,\r\n    appID: APP_ID,\r\n  });\r\n};\r\n\r\nexport const sendOtpDev = ({ codeLanguage, payload }) => {\r\n  return apiMethodDev.post(codeLanguage + API.POST_SEND_OTP, {\r\n    phoneNumber: payload,\r\n  });\r\n};\r\n","import React from \"react\";\r\nimport { put, call, takeEvery, select } from \"redux-saga/effects\";\r\nimport * as Actions from \"./constants\";\r\nimport * as ActionsAuth from \"../auth/actions\";\r\nimport { signIn } from \"./service\";\r\nimport { RETCODE_SUCCESS, SUCCESS } from \"@configs/contants\";\r\nimport { getCodeLanguage } from \"@store/common/selectors\";\r\nimport apiMethod from \"@utility/ApiMethod\";\r\nimport apiMethodV2 from \"@utility/ApiMethodV2\";\r\nimport { getUserData } from \"../../../../store/user/selector\";\r\nimport { actions as userActions } from \"../../../../store/user/reducer\";\r\n\r\n/**\r\n * Fetch data saga\r\n * @returns {IterableIterator<*>}\r\n */\r\nfunction* fetchSignInSaga({ payload }) {\r\n  try {\r\n    const codeLanguage = yield select(getCodeLanguage);\r\n    const res = yield call(signIn, {\r\n      payload,\r\n      codeLanguage,\r\n    });\r\n    const { data } = res;\r\n    if (res.status === SUCCESS && data.retCode === RETCODE_SUCCESS) {\r\n      apiMethod.defaults.headers.common[\r\n        \"Authorization\"\r\n      ] = `Bearer ${data.data.token}`;\r\n      apiMethodV2.defaults.headers.common[\r\n        \"Authorization\"\r\n      ] = `Bearer ${data.data.token}`;\r\n      yield put({ type: Actions.SIGN_IN_SUCCESS, payload: data.data });\r\n      yield put(userActions.setInfoData(data.data));\r\n    } else {\r\n      yield put({ type: Actions.SIGN_IN_ERROR, error: data.retText });\r\n    }\r\n  } catch (e) {\r\n    console.log(\"LOGIN ERR\", e);\r\n    yield put({ type: Actions.SIGN_IN_ERROR, error: e });\r\n  }\r\n}\r\n\r\nfunction* fetchLogoutSaga() {\r\n  try {\r\n    const userData = yield select(getUserData);\r\n    yield put(userActions.clearUserData({}));\r\n\r\n    yield put(ActionsAuth.authLogoutSuccess({}));\r\n  } catch (err) {\r\n    console.log(\"LOGOUT ERR\", err);\r\n  }\r\n}\r\n\r\nexport default function* authSaga() {\r\n  yield takeEvery(Actions.CALL_SIGN_IN_METHOD, fetchSignInSaga);\r\n  yield takeEvery(Actions.CALL_LOGOUT_METHOD, fetchLogoutSaga);\r\n}\r\n","import { createSelector } from \"reselect\"\r\nexport const user = (state) => state.user\r\n\r\nexport const getUserData = createSelector(user, (data) => data?.userData)\r\n\r\n// export const getGeneralMenu = createSelector(\r\n//     user,\r\n//   data => data?.generalInfoMenu || null,\r\n// );\r\n\r\nexport const getGeneralMenuLoading = createSelector(\r\n  user,\r\n  (data) => data?.loading || null\r\n)\r\n"],"sourceRoot":""}